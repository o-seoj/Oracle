/*
    날짜 : 2025/07/23
    이름 : 오서정
    내용 : SQL 연습문제4
*/
-- 실습1
alter session set "_ORACLE_SCRIPT" = true;
create user library identified by 1234;
grant connect, resource, unlimited tablespace to library;

-- 실습2
create table Member(
    member_Id number(4) primary key,
    name varchar2(40) not null,
    address varchar2(100),
    hp char(13) unique,
    join_date date not null
);
create table Book(
    book_Id number(5) primary key,
    title varchar2(50) not null,
    author varchar2(40) not null,
    publisher varchar2(40) not null,
    available char(1),
    reg_date date not null
);
drop table book;
create table Loan(
    loan_Id number generated by default as identity primary key,
    member_Id number(4) not null,
    book_Id number(5) not null,
    loan_date date,
    return_date date,
    actual_date date,
    foreign key (member_Id) references member (member_Id),
    foreign key (book_Id) references book (book_Id)
);
drop table Loan;
-- 실습3
insert into member values(1001, '김유신', '서울특별시 강남구 역삼동', '010-1234-1001', '2024-01-10 09:15:00');
insert into member values(1002, '김춘추', '대전광역시 유성구 장대동', '010-1234-1002', '2024-02-14 14:30:45');
insert into member values(1003, '장보고', '대구광역시 수성구 반월동', '010-1234-1003', '2024-03-01 11:05:20');
insert into member values(1004, '강감찬', '부산광역시 금정구 부곡동', '010-1234-1004', '2024-03-22 16:40:00');
insert into member values(1005, '이순신', '광주광역시 광산구 우산동', '010-1234-1005', '2024-04-10 08:50:10');

insert into book values( 10001, '태백산맥', '조정래', '문학수첩', 'Y', '2014-01-10 09:15:00');
insert into book values( 10002, '데미안', '헤르만 헤세', '민음사', 'N', '2014-02-14 14:30:45');
insert into book values( 10003, '토지', '박경리', '문학사상사', 'Y', '2014-03-01 11:05:20');
insert into book values( 10004, '명품 자바 프로그래밍', '제임스 고슬링', '한빛출판사', 'Y', '2014-03-22 16:40:00');
insert into book values( 10005, '로미오와 줄리엣', '세익스피어', '열린책들', 'N', '2014-04-10 08:50:10');
insert into book values( 10006, '삼국지', '나관중', '민음사', 'Y', '2014-04-05 09:12:02');
insert into book values( 10007, '칼의 노래', '김훈', '문학동네', 'Y', '2014-06-10 12:53:17');
insert into book values( 10008, '데이터베이스', '래리 엘리슨', '한빛출판사', 'N', '2014-05-23 10:13:09');
insert into book values( 10009, 'Linux 운영체제', '리누스 토발즈', '한빛출판사', 'Y', '2014-03-11 11:23:43');
insert into book values( 10010, '어린 왕자', '생텍쥐베리', '열린책들', 'Y', '2014-05-03 15:27:21');

insert into loan values(1, 1001, 10002, '2024-03-01 10:02:31', '2024-03-15 10:02:31', '2024-03-13 09:44:19');
insert into loan values(2, 1002, 10004, '2024-03-05 15:10:02', '2024-03-19 15:10:02 2024-03-12', '2024-03-12 17:12:30');
insert into loan values(3, 1003, 10008, '2024-04-01 11:01:12', '2024-04-15 11:01:12', null);
insert into loan values(4, 1002, 10001, '2024-04-10 14:32:01', '2024-04-24 14:32:01', '2024-04-22 13:56:32');
insert into loan values(5, 1005, 10004, '2024-04-15 16:24:21', '2024-04-29 16:24:21', null);
insert into loan values(6, 1004, 10006, '2024-05-01 09:12:09', '2024-05-15 09:12:09', '2024-05-14 09:21:27');
insert into loan values(7, 1001, 10007, '2024-05-03 13:51:07', '2024-05-17 13:51:07', '2024-05-16 14:05:10');
insert into loan values(8, 1003, 10009, '2024-06-01 11:15:43', '2024-06-15 11:15:43', null);
insert into loan values(9, 1004, 10004, '2024-06-02 12:30:52', '2024-06-16 12:30:52', null);
insert into loan values(10, 1002, 10008, '2024-06-05 10:06:17', '2024-06-19 10:06:17', null);

-- 실습4
select * from member;

-- 실습5
select title, author from book;

-- 실습6
select name, address from member where address like '부산%';

-- 실습7
select title from book where available like 'Y';

-- 실습8
select * from book where book_id = 10005;

-- 실습9
select member_id, name, hp from member where member_id = 1002;

-- 실습10
select title from book where reg_date = '2014-03-'

-- 실습11
-- 실습12
-- 실습13
-- 실습14
-- 실습15
-- 실습16
-- 실습17
-- 실습18
-- 실습19
-- 실습20
-- 실습21
-- 실습22
-- 실습23
-- 실습24
-- 실습25
-- 실습26
-- 실습27
-- 실습28
-- 실습29
-- 실습30
-- 실습31
-- 실습32
-- 실습33
-- 실습34
-- 실습35
-- 실습36
-- 실습37
-- 실습38
-- 실습39
-- 실습40
-- 실습41
-- 실습42
-- 실습43
-- 실습44
-- 실습45
-- 실습46
-- 실습47
-- 실습48
-- 실습49
-- 실습50